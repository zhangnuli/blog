(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{215:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"记录一次使用-mpvue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#记录一次使用-mpvue","aria-hidden":"true"}},[t._v("#")]),t._v(" 记录一次使用 mpvue")]),t._v(" "),a("ul",[a("li",[t._v("mpvue 是基于 vue-cli@2.x 的脚手架的")])]),t._v(" "),a("ul",[a("li",[t._v("如果安装的的是@vue/cli 3.x 可以安装一个")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @vue/cli-init\n\n//然后\n\nvue init mpvue/mpvue-quickstart my-project\n\n//进入目录\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" 安装依赖\n\n//启动\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n\n")])])]),a("h3",{attrs:{id:"开发的时候没有使用小程序的-http-request-而是使用了-flyio-库来进行-http-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发的时候没有使用小程序的-http-request-而是使用了-flyio-库来进行-http-请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 开发的时候没有使用小程序的 http.request,而是使用了 flyio 库来进行 http 请求")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//安装 npm install flyio -D")]),t._v("\n\n在和pages同级目录下新建了一个apis文件夹\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在apis文件夹下新建index.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//对flyio简单的封装")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Fly "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'flyio/dist/npm/wx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fly "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fly")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("baseURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://tencentads.event.com.cn'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加响应拦截器，响应拦截器会在then/catch处理之前执行")]),t._v("\nfly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只将请求结果的data字段返回")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" fly\n\n")])])]),a("ul",[a("li",[t._v("然后就可以愉快的使用 Promise 来进行 http 请求了")])]),t._v(" "),a("h3",{attrs:{id:"mpvue-可以使用-vue-的生命周期也可以使用小程序的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mpvue-可以使用-vue-的生命周期也可以使用小程序的生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" mpvue 可以使用 vue 的生命周期也可以使用小程序的生命周期")]),t._v(" "),a("ul",[a("li",[t._v("在 onLoad 或者 created 进行 http 请求时,一打开小程序即使没有进入到对应的页面也会进行 http 请求,查了一下文档,如果不想一打开小程序就进行数据的请求那么可以在 onShow 的时候进行请求")])]),t._v(" "),a("ul",[a("li",[t._v("有的时候数据更新了,但是页面却没有发生对应的变化,可以爱 nextTick 函数里进行数据的更新")])]),t._v(" "),a("h3",{attrs:{id:"跳转页面的时候携带参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳转页面的时候携带参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 跳转页面的时候携带参数")]),t._v(" "),a("ul",[a("li",[t._v("页面onLoad的时候可以通过 "),a("code",[t._v("this.$root.$mp.query")]),t._v("来获取带参数")]),t._v(" "),a("li",[t._v("页面onShow的时候可以通过"),a("code",[t._v("this.$root.$mp.appOptions")]),t._v(" 来获取参数")])])])},[],!1,null,null,null);s.default=e.exports}}]);